** 병원노쇼 환자 데이터분석 실습 **

1) 데이터 읽기와 확인 (medical.csv)
2) 데이터와 컬럼 확인
3)  정보확인
4)  결측치확인
5)  통계량을 이용하여 이상치 제거
     count(개수/건수)
     mean(평균)
     std(표준편차)
     min(최소값), 25%, 50%, max 값 출력
     (출력결과에서 이상치를 찾아보세요)
     어떻게 이상치를 처리하면 될까요?

6)  문자형데이터를 수치형데이터로 바꿉니다.
   No-Show 변수는 Yes , NO   로 표시
7) 문자열타입으로 표현된 ScheduleDay, AppointmentDay
   는 datetime 타입으로 변환해야 시간차이, 요일 수 등이
    가능하므로 변환해주세요.
     
medic['ScheduledDay'] = pd.to_datetime(medic['ScheduledDay'])
medic['AppointmentDay'] =pd.to_datetime(medic['AppointmentDay'])
medic['AppointmentDay']

8) 환자가 예약을 하고 병원을 방문하는 기간이 어느정도인지
     알기 위하여 
     (병원예약한날 - 실제병원에방문한날)을 계산
       AppointmentDay - ScheduledDay 
    일수차이를 구하기 위해서는 dayofyear 속성을 사용한다.
   
    일수차이를 구한 값을 새로운 waiting_day 컬럼에 추가
  한다.


&& 10월 30일 4시-6시



1) 오전에 진행된 그래프기초파트(특히 Seaborn)부분 
    복습 부탁드립니다.
   (특히 엑셀데이터를 가지고 그래프를 그리는 부분을
       복습해주세요.)

2) 노쇼 실습자료 진행된 부분 복습하시고

    쌤이 제공해드리는 자료 외에
   medical.csv 를 가지고 3가지 분석프로세스를 더 추가해보세요.
     Quiz 플랫폼에 제출해주세요.

&& 10월 31일

9)    추가된 waiting_day에 이상치가 있는지 확인한다.
      이상치가 발견되면 다음과 같은 조건으로 처리한다.
      waiting_day가 0과 같거나 큰 값만 추출하여 이상치
      를 제거한다.


10)  Age 값에 대해서 이상이 없는지 확인한다.
       Boxplot으로 시각화 한다.
       Age가 110보다 작거나 같은 범위만 추출하여
       이상치를 제거한다.

11) 노쇼를 줄이는것이 이번 문제의 핵심이다.
       이를 위해서는 어떤 변수가 노쇼와 관계가 있는지
       파악해야 한다.

    waiting_day(예약하고 방문을 기다리는 기간)
      No-Show   간의 관계를 알아본다.
    (당일 예약한 환자가 병원에 방문하지 않은 경우는
       당일예약건수 / 환자가방문하지않은 건수



a=df[df.waiting_day==0]['waiting_day'].value_counts()
b=df[(df['waiting_day']==0)&(df['No-show']==1)]['waiting_day'].value_counts()
b/a


12)      예약한 시점부터 병원방문 날까지 기다리는 날에 따라
         노쇼와 노쇼가 아닌 비율이 어떻게 다른지 알기
         위해 기다리는 날을 10이하로 설정하고 비교하려합니다.
        
        이를 위해 먼저 No-Show가 0 (노쇼가 아닌경우)
        No-Show가 1인 경우로 데이터를 분할한다.

13)   12)의 결과를 히스토그램으로 시각화 해보세요.
     그리고 히스토그램의 결과를 보고 분석을 해보세요.

14)   ScheduledDay와 No-Show  의 관계를 히스토그램으로
        나타내보세요. 히스토그램의 결과를 분석해보세요.

15)   AppointmentDay 와 No-Show  의 관계를 히스토그램으로
        나타내보세요. 히스토그램의 결과를 분석해보세요.

16)  재방문 환자와 No-Show
       병원에 방문하는 환자중에서 재방문 하는 환자가 있는지 
       확인하고 재방문하는 환자가 예약 잡은 날 병원에 오는 
       건수와 그렇지 않은 건수를 비교한다.

       환자별의 예약횟수를 파악하고 예약횟수 상위10개만
       먼저 확인해본다. (PatientId 참조)

17) 상위 500개의 예약횟수를 확인하기 위해 
    히스토그램으로 시각화 해본다.
    히스토그램의 결과를 분석해보세요.

18) 환자별로 기다리는 기간에 따른 노쇼 발생 건수를 확인
       하기위해 waiting_day를 50일 이상 설정하고 
       결과를 내보세요.

19) SMS_received와 waiting_day와 노쇼의 관계
      barplot 함수를 사용해본다.
      시각화 결과를 분석해보세요.

20) 위 과정을 통해서 
       waiting_day 와 SMS_received 는 서로 영향이 있는것
       을 알게 되었습니다. 실제 어느 정도 상관이 있는지
       상관관계를 히트맵으로 나타내보세요.

21) 얼마나 많은 환자가 예정된 약속에 오지 않았는가?   
      시각화 해보세요.

22) 성별에 따른 노쇼 여부 차이를 시각화 해보세요.

23) 노쇼의 여성과 남성비율은?

